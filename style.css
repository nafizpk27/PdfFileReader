        :root {
            --primary-gradient: linear-gradient(135deg, #6a82fb 0%, #fc5c7d 100%);
            --btn-gradient: linear-gradient(to right, #6a82fb, #b06ab3);
            --bg-light: #f4f4f4;
            --text-main: #333;
            --accent: #d4af37;
            --flip-speed: 0.8s;
        }

        body, html {
            margin: 0; padding: 0; height: 100%;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            overflow: hidden;
            background-color: var(--bg-light);
        }

        .hidden { display: none !important; }

        /* --- LANDING PAGE (Exact Screenshot Style) --- */
        #upload-screen {
            height: 100vh;
            display: flex; align-items: center; justify-content: center;
            background: var(--primary-gradient);
        }

        .upload-card {
            background: white;
            padding: 40px;
            border-radius: 20px;
            width: 450px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }

        .upload-card h1 { font-size: 24px; margin: 10px 0; display: flex; align-items: center; justify-content: center; gap: 10px; }
        .upload-card p { color: #666; font-size: 14px; margin-bottom: 25px; }

        .drop-area {
            border: 2px dashed #6a82fb;
            border-radius: 15px;
            padding: 40px 20px;
            margin-bottom: 25px;
            cursor: pointer;
            transition: 0.3s;
        }

        .drop-area:hover { background: #f0f4ff; }
        .drop-area img { width: 50px; margin-bottom: 15px; opacity: 0.7; }
        .drop-area span { color: #6a82fb; font-weight: 600; display: block; }
        .drop-area small { color: #999; display: block; margin-top: 5px; }

        .btn-main {
            background: var(--btn-gradient);
            color: white; border: none; padding: 12px 40px;
            border-radius: 25px; font-weight: 600; cursor: pointer;
            font-size: 16px; transition: 0.3s;
        }
        .btn-main:hover { opacity: 0.9; transform: translateY(-2px); }

        /* --- READER INTERFACE --- */
        #reader-container { height: 100vh; display: flex; flex-direction: column; position: relative; }

        .top-nav {
            position: absolute; top: 20px; left: 20px; right: 20px;
            display: flex; justify-content: space-between; align-items: center; z-index: 100;
        }

        .nav-left { display: flex; align-items: center; gap: 15px; }
        .btn-new { background: #fff; border: 1px solid #ddd; padding: 6px 12px; border-radius: 6px; cursor: pointer; font-size: 13px; display: flex; align-items: center; gap: 5px; }
        .page-info { background: #eee; padding: 4px 10px; border-radius: 4px; font-size: 12px; color: #555; }

        /* Search Implementation */
        .search-container { position: relative; display: flex; align-items: center; background: white; border-radius: 20px; padding: 2px 10px; border: 1px solid #ddd; }
        #search-input { border: none; outline: none; padding: 5px; font-size: 13px; width: 0; transition: 0.4s; }
        .search-container:hover #search-input, #search-input:focus { width: 150px; }

        /* Flipbook Viewport */
        .viewport { flex: 1; display: flex; align-items: center; justify-content: center; perspective: 2500px; padding-bottom: 80px; }
        .book { position: relative; width: 900px; height: 600px; transform-style: preserve-3d; transition: transform 0.5s; }
        .sheet { position: absolute; width: 50%; height: 100%; top: 0; right: 0; transform-origin: left center; transition: transform var(--flip-speed) cubic-bezier(0.645, 0.045, 0.355, 1); transform-style: preserve-3d; z-index: 1; }
        .sheet.flipped { transform: rotateY(-180deg); }
        .side { position: absolute; inset: 0; backface-visibility: hidden; background: white; border: 1px solid #eee; display: flex; align-items: center; justify-content: center; }
        .side.back { transform: rotateY(180deg); }
        canvas { width: 100%; height: 100%; object-fit: contain; }

        /* Navigation Arrows */
        .side-arrow { position: absolute; top: 50%; transform: translateY(-50%); background: transparent; border: none; cursor: pointer; color: #999; z-index: 200; transition: 0.2s; }
        .side-arrow:hover { color: #333; scale: 1.1; }
        .arrow-l { left: 40px; } .arrow-r { right: 40px; }

        /* Floating Toolbar */
        .bottom-toolbar {
            position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);
            background: rgba(255,255,255,0.9); backdrop-filter: blur(10px);
            padding: 10px 25px; border-radius: 15px; display: flex; gap: 20px; align-items: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1); z-index: 100;
        }
        .tool-icon { color: #666; cursor: pointer; transition: 0.2s; width: 22px; }
        .tool-icon:hover { color: var(--accent); }

        /* Loader */
        .loader { position: fixed; inset: 0; background: rgba(255,255,255,0.95); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 2000; }
        .spinner { width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid #6a82fb; border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
